{"ast":null,"code":"import { useState } from \"react\";\nexport default function useVisualMode(initial) {\n  const [mode, setMode] = useState(initial);\n  const [history, setHistory] = useState([initial]);\n\n  function transition(newMode) {\n    let replace = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    if (replace) {\n      setHistory(prev => [...prev.slice(0, prev.length - 1), newMode]);\n    } else {\n      setHistory(prev => [...prev, newMode]);\n    }\n\n    setMode(newMode);\n  }\n\n  ;\n\n  function back() {\n    setMode(initial);\n\n    if (history.length > 1) {\n      const newHistory = history.slice(0, history.length - 1);\n      setHistory(newHistory);\n      setMode(newHistory[newHistory.length - 1]);\n    }\n  }\n\n  ;\n  return {\n    mode,\n    transition,\n    back\n  };\n}","map":{"version":3,"names":["useState","useVisualMode","initial","mode","setMode","history","setHistory","transition","newMode","replace","prev","slice","length","back","newHistory"],"sources":["/Users/megwilken/lighthouse/scheduler2/src/hooks/useVisualMode.js"],"sourcesContent":["import { useState } from \"react\";\n\n\nexport default function useVisualMode(initial) {\n  const [mode, setMode] = useState(initial);\n  const [history, setHistory] = useState([initial]);\n\n  function transition(newMode, replace = false) {\n    if (replace) {\n      setHistory(prev => [...prev.slice(0, prev.length - 1), newMode]);\n    } else {\n      setHistory(prev => [...prev, newMode]);\n    }\n    setMode(newMode);\n  };\n\n  function back() {\n    setMode(initial);\n    if (history.length > 1) {\n      const newHistory = history.slice(0, history.length - 1);\n      setHistory(newHistory);\n      setMode(newHistory[newHistory.length - 1]);\n    }\n    };\n\n  return { mode, transition, back };\n}\n\n"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AAGA,eAAe,SAASC,aAAT,CAAuBC,OAAvB,EAAgC;EAC7C,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,CAACE,OAAD,CAAhC;EACA,MAAM,CAACG,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,CAACE,OAAD,CAAD,CAAtC;;EAEA,SAASK,UAAT,CAAoBC,OAApB,EAA8C;IAAA,IAAjBC,OAAiB,uEAAP,KAAO;;IAC5C,IAAIA,OAAJ,EAAa;MACXH,UAAU,CAACI,IAAI,IAAI,CAAC,GAAGA,IAAI,CAACC,KAAL,CAAW,CAAX,EAAcD,IAAI,CAACE,MAAL,GAAc,CAA5B,CAAJ,EAAoCJ,OAApC,CAAT,CAAV;IACD,CAFD,MAEO;MACLF,UAAU,CAACI,IAAI,IAAI,CAAC,GAAGA,IAAJ,EAAUF,OAAV,CAAT,CAAV;IACD;;IACDJ,OAAO,CAACI,OAAD,CAAP;EACD;;EAAA;;EAED,SAASK,IAAT,GAAgB;IACdT,OAAO,CAACF,OAAD,CAAP;;IACA,IAAIG,OAAO,CAACO,MAAR,GAAiB,CAArB,EAAwB;MACtB,MAAME,UAAU,GAAGT,OAAO,CAACM,KAAR,CAAc,CAAd,EAAiBN,OAAO,CAACO,MAAR,GAAiB,CAAlC,CAAnB;MACAN,UAAU,CAACQ,UAAD,CAAV;MACAV,OAAO,CAACU,UAAU,CAACA,UAAU,CAACF,MAAX,GAAoB,CAArB,CAAX,CAAP;IACD;EACA;;EAAA;EAEH,OAAO;IAAET,IAAF;IAAQI,UAAR;IAAoBM;EAApB,CAAP;AACD"},"metadata":{},"sourceType":"module"}