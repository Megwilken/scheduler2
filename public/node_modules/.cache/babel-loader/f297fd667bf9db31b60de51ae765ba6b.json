{"ast":null,"code":"var _jsxFileName = \"/Users/megwilken/lighthouse/scheduler2/src/components/Appointment/index.js\";\nimport React, { useEffect } from \"react\";\nimport \"components/Appointment/styles.scss\";\nimport Header from \"components/Appointment/Header\";\nimport Show from \"components/Appointment/Show\";\nimport Empty from \"components/Appointment/Empty\";\nimport Form from \"components/Appointment/Form\";\nimport useVisualMode from \"comhooks/useVisualMode\";\nimport Status from \"components/Appointment/Status\";\nimport Error from \"components/Appointment/Error\";\nimport Confirm from \"/Appointment/Confirm\";\nconst EMPTY = \"EMPTY\";\nconst SHOW = \"SHOW\";\nconst CREATE = \"CREATE\";\nconst SAVING = \"SAVING\";\nconst DELETING = \"DELETING\";\nconst CONFIRM = \"CONFIRM\";\nconst EDIT = \"EDIT\";\nconst ERROR_SAVE = \"ERROR_SAVE\";\nconst ERROR_DELETE = \"ERROR_DELETE\";\nexport default function Appointment(props) {\n  const {\n    mode,\n    transition,\n    back\n  } = useVisualMode(props.interview ? SHOW : EMPTY); // const [interview, setInterview] = useState(props.interview);\n\n  const onAdd = () => {\n    transition(CREATE);\n  };\n\n  const update = (name, interviewer) => {\n    transition(SAVING);\n    const newInterview = {\n      student: name,\n      interviewer: interviewer\n    };\n    props.bookInterview(props.id, newInterview).then(() => {\n      transition(SHOW);\n    }).catch(error => transition(ERROR_SAVE, true));\n  };\n\n  const save = (name, interviewer) => {\n    const interview = {\n      student: name,\n      interviewer\n    };\n    transition(SAVING);\n    props.bookInterview(props.id, interview).then(() => transition(SHOW)).catch(error => {\n      transition(ERROR_SAVE, true);\n    });\n  };\n\n  const onDelete = event => {\n    transition(CONFIRM);\n    transition(DELETING, true);\n    props.cancelInterview(props.id).then(() => transition(EMPTY)).catch(error => {\n      transition(ERROR_DELETE, true);\n    });\n  };\n\n  useEffect(() => {\n    if (props.interview && mode === EMPTY) {\n      transition(SHOW);\n    }\n\n    if (props.interview === null && mode === SHOW) {\n      transition(EMPTY);\n    }\n  }, [props.interview, transition, mode]);\n  return /*#__PURE__*/React.createElement(\"article\", {\n    className: \"appointment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    time: props.time,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }), mode === EMPTY && /*#__PURE__*/React.createElement(Empty, {\n    onAdd: onAdd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 26\n    }\n  }), mode === SHOW && /*#__PURE__*/React.createElement(Show, {\n    student: props.interview.student,\n    interviewer: props.interview.interviewer.name,\n    onDelete: () => transition(CONFIRM),\n    onEdit: () => transition(EDIT),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }), mode === CREATE && /*#__PURE__*/React.createElement(Form, {\n    interviewer: props.interviewer,\n    interviewers: props.interviewers,\n    onCancel: () => back(EMPTY),\n    onSave: save,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }), mode === SAVING && /*#__PURE__*/React.createElement(Status, {\n    message: \"Saving\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 27\n    }\n  }), mode === DELETING && /*#__PURE__*/React.createElement(Status, {\n    message: \"Deleting\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 29\n    }\n  }), mode === CONFIRM && /*#__PURE__*/React.createElement(Confirm, {\n    onConfirm: onDelete,\n    onCancel: back,\n    message: \"Are you sure you would like to delete?\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }), mode === EDIT && /*#__PURE__*/React.createElement(Form, {\n    defaultName: props.interview.student,\n    defaultInterviewer: props.interview.interviewer.id,\n    interviewers: props.interviewers,\n    onCancel: back,\n    onSave: update,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }), mode === ERROR_SAVE && /*#__PURE__*/React.createElement(Error, {\n    message: \"Could not save appointment\",\n    onClose: back,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }), mode === ERROR_DELETE && /*#__PURE__*/React.createElement(Error, {\n    message: \"Could not delete appointment\",\n    onClose: back,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }));\n}","map":{"version":3,"names":["React","useEffect","Header","Show","Empty","Form","useVisualMode","Status","Error","Confirm","EMPTY","SHOW","CREATE","SAVING","DELETING","CONFIRM","EDIT","ERROR_SAVE","ERROR_DELETE","Appointment","props","mode","transition","back","interview","onAdd","update","name","interviewer","newInterview","student","bookInterview","id","then","catch","error","save","onDelete","event","cancelInterview","time","interviewers"],"sources":["/Users/megwilken/lighthouse/scheduler2/src/components/Appointment/index.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport \"components/Appointment/styles.scss\";\n\n\nimport Header from \"components/Appointment/Header\";\n\nimport Show from \"components/Appointment/Show\";\n\nimport Empty from \"components/Appointment/Empty\";\n\nimport Form from \"components/Appointment/Form\";\n\nimport useVisualMode from \"comhooks/useVisualMode\";\n\nimport Status from \"components/Appointment/Status\";\n\nimport Error from \"components/Appointment/Error\";\n\nimport Confirm from \"/Appointment/Confirm\";\n\nconst EMPTY = \"EMPTY\";\nconst SHOW = \"SHOW\";\nconst CREATE = \"CREATE\";\nconst SAVING = \"SAVING\";\nconst DELETING = \"DELETING\";\nconst CONFIRM = \"CONFIRM\";\nconst EDIT = \"EDIT\";\nconst ERROR_SAVE = \"ERROR_SAVE\";\nconst ERROR_DELETE = \"ERROR_DELETE\";\n\nexport default function Appointment(props) {\n  const { mode, transition, back } = useVisualMode(\n    props.interview ? SHOW : EMPTY\n  );\n\n  // const [interview, setInterview] = useState(props.interview);\n\n  const onAdd = () => {\n    transition(CREATE);\n  };\n\n\n\n  const update = (name, interviewer) => {\n    transition(SAVING);\n    const newInterview = {\n      student: name,\n      interviewer: interviewer,\n    };\n    props.bookInterview(props.id, newInterview)\n    .then(() => {\n      transition(SHOW);\n    })\n    .catch(error => transition(ERROR_SAVE, true));\n  };\n\n  const save = (name, interviewer) => {\n      const interview = {\n      student: name,\n      interviewer,\n    };\n\n    transition(SAVING);\n\n    props.bookInterview(props.id, interview)\n      .then(() => transition(SHOW))\n      .catch(error => { \n        transition(ERROR_SAVE, true)\n        });\n    };\n\n\n  const onDelete = (event) => {\n\n    transition(CONFIRM);\n    \n    transition(DELETING, true);\n    \n    props.cancelInterview(props.id)\n      .then(() => transition(EMPTY))\n      .catch(error => {\n        transition(ERROR_DELETE, true)\n        });\n  };\n\n  useEffect(() => {\n    if (props.interview && mode === EMPTY) {\n      transition(SHOW);\n    }\n    if (props.interview === null && mode === SHOW) {\n      transition(EMPTY);\n    }\n  }, [props.interview, transition, mode]);\n\n  return (\n    <article className=\"appointment\">\n      <Header time={props.time} />\n      {mode === EMPTY && <Empty onAdd={onAdd} />}\n      {mode === SHOW && (\n        <Show\n          student={props.interview.student}\n          interviewer={props.interview.interviewer.name}\n          onDelete={() => transition(CONFIRM)}\n          onEdit={() => transition (EDIT)}\n        />\n      )}\n      {mode === CREATE && (\n        <Form\n          interviewer={props.interviewer}\n          interviewers={props.interviewers}\n          onCancel={() => back(EMPTY)}\n          onSave={save}\n        />\n      )}\n      {mode === SAVING && <Status message=\"Saving\" />}\n      {mode === DELETING && <Status message=\"Deleting\" />}\n      {mode === CONFIRM && (\n        <Confirm\n          onConfirm={onDelete}\n          onCancel={back}\n          message=\"Are you sure you would like to delete?\"\n        />\n      )}\n      {mode === EDIT && (\n        <Form\n          defaultName={props.interview.student}\n          defaultInterviewer={props.interview.interviewer.id}\n\n          interviewers={props.interviewers}\n          onCancel={back}\n          onSave={update}\n        />\n      )}\n      {mode === ERROR_SAVE && (\n        <Error\n        message=\"Could not save appointment\" \n        onClose={back} \n        />\n      )}\n      {mode === ERROR_DELETE && (\n        <Error\n        message=\"Could not delete appointment\" \n        onClose={back} \n        />\n      )}\n\n    </article>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}